<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Eventforge</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" th:href="@{https://fonts.googleapis.com/css?family=DM+Sans:300,400,700|Indie+Flower}">

    <link rel="stylesheet" th:href="@{/fonts/icomoon/style.css}">

    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>
    <link rel="stylesheet" th:href="@{/css/bootstrap-datepicker.css}">
    <link rel="stylesheet" th:href="@{/css/jquery.fancybox.min.css}">
    <link rel="stylesheet" th:href="@{/css/owl.carousel.min.css}">
    <link rel="stylesheet" th:href="@{/css/owl.theme.default.min.css}">
    <link rel="stylesheet" th:href="@{/fonts/flaticon/font/flaticon.css}">
    <link rel="stylesheet" th:href="@{/css/aos.css}">

    <!-- MAIN CSS -->
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body data-spy="scroll" data-target=".site-navbar-target" data-offset="300">


<div class="site-wrap" id="home-section">

    <div class="site-mobile-menu site-navbar-target">
        <div class="site-mobile-menu-header">
            <div class="site-mobile-menu-close mt-3">
                <span class="icon-close2 js-menu-toggle"></span>
            </div>
        </div>
        <div class="site-mobile-menu-body"></div>
    </div>


    <header class="site-navbar site-navbar-target" role="banner">

        <div class="container mb-3">
            <div class="d-flex align-items-center">
                <div class="site-logo mr-auto">
                    <a href="/index">Eventforge<span class="text-primary"></span></a>
                </div>
                <div class="site-quick-contact d-none d-lg-flex ml-auto ">
                    <div class="d-flex site-info align-items-center mr-5">
                        <span class="block-icon mr-3"><span class="icon-map-marker text-yellow"></span></span>
                        <span>Varna<br> Bulgaria</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="menu-wrap d-flex align-items-center">
                <span class="d-inline-block d-lg-none"><a href="#"
                                                          class="text-black site-menu-toggle js-menu-toggle py-5"><span
                        class="icon-menu h3 text-black"></span></a></span>
                <nav class="site-navigation text-left mr-auto d-none d-lg-block" role="navigation">
                    <ul class="site-menu main-menu js-clone-nav mr-auto ">
                        <li class="active"><a th:href="@{/index}" class="nav-link">Начало</a></li>
                        <li><a th:href="@{/registration}" class="nav-link">Регистрирай се</a></li>
                        <li><a th:if="${session.sessionToken == null}" href="/login" class="nav-link">Впиши се</a></li>
                        <li><a th:href="@{/one-time-events}" class="nav-link">Еднократни активности</a></li>
                        <li><a th:href="@{/recurrence-events}" class="nav-link">Продължителни активности</a></li>
                        <li><a th:href="@{/view/organisations}" class="nav-link">Организации</a></li>
                    </ul>
                </nav>

                <div class="top-social ml-auto">
                    <a href="#"><span class="icon-facebook text-teal"></span></a>
                    <a href="#"><span class="icon-twitter text-success"></span></a>
                    <a href="#"><span class="icon-linkedin text-yellow"></span></a>
                </div>
            </div>
        </div>
    </header>

    <div class="ftco-blocks-cover-1">
        <div class="site-section-cover overlay">
            <div class="container">
                <div class="row align-items-center ">
                    <div class="col-md-5 mt-5 pt-5">
                        <span class="text-cursive h5 text-red">Влез в своята организация</span>
                        <h1 class="mb-3 font-weight-bold text-teal">Eventforge</h1>
                    </div>
                    <div class="col-md-5 ml-auto align-self-end">
                        <img src="/images/img_1.png" alt="Image" class="img-fluid">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="table-responsive">
    <table class="table table-bordered table-stripped table-hover">
        <thead class="table-info">
        <tr>
            <th scope="col">Лого</th>
            <th scope="col">Корица</th>
            <th scope="col">Име</th>
            <th scope="col">Булстат</th>
            <th scope="col">Потребителско име</th>
            <th scope="col">Телефон</th>
            <th scope="col">Адрес</th>
            <th scope="col">Благотворителност</th>
            <th scope="col">Цел</th>
            <th scope="col" th:if="${session.sessionUserRole == 'ADMIN'}">Изтрий органицизия</th>
            <th scope="col" th:if="${session.sessionUserRole == 'ADMIN'}">Потвърди органицизия</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="organisation : ${organisations}">>
            <td><img alt="лого" th:src="@{${'file:' + organisation.logo}}" width="50%" height="100px"/></td>
            <td><img alt="корица" th:src="@{${'file:' + organisation.logo}}" width="50%" height="100px"></td>
            <td>[[${organisation.name}]]</td>
            <td>[[${organisation.bullstat}]]</td>
            <td>[[${organisation.username}]]</td>
            <td>[[${organisation.phone}]]</td>
            <td>[[${organisation.address}]]</td>
            <td>[[${organisation.charityOption}]]</td>
            <td>[[${organisation.organisationPurpose}]]</td>
            <td>
                <div th:if="${session.sessionUserRole == 'ADMIN'}">
                <form th:action="@{/deleteOrganisation/{organisationId}(organisationId=${organisation.id})}"
                      method="post">
                    <button type="submit" class="btn btn-default"
                            onclick="return confirm('Наистина ли искате да истриете тази организация?')">Изтрий
                    </button>
                </form>
                </div>
            </td>
            <td>
                <div th:if="${session.sessionUserRole == 'ADMIN'}">
                <form th:action="@{/enableOrganisationByAdmin/{userId}(userId=${organisation.userId})}"
                      th:method="POST">
                    <button type="submit">Потвърди</button>
                </form>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>

</body>
</html>
<style>
    div.fr {
        width: 1200px;
        margin: 50px auto 0;
    }

    .text-yellow {
        color: #f9a122;
    }
</style>
<script>
    function confirmDelete(organisationId) {
        if (confirm('Наистина ли искате да истриете тази организация?')) {
            // If confirmed, submit the form
            document.getElementById('deleteForm').submit();
        }
    }
</script>